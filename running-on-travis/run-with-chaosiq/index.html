



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="ChaosIQ Documentation">
      
      
      
        <meta name="author" content="ChaosIQ Limited">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../static/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Run an Experiment with ChaosIQ - ChaosIQ Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>body,input{font-family:"IBM Plex Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"IBM Plex Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/styles.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#add-the-chaosiq-extension" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ChaosIQ Documentation" aria-label="ChaosIQ Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../static/images/chaosiq-mark.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              ChaosIQ Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Run an Experiment with ChaosIQ
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="ChaosIQ Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../static/images/chaosiq-mark.png" width="48" height="48">
      
    </a>
    ChaosIQ Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/prerequisites/" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/login-chaosiq/" title="Login to ChaosIQ" class="md-nav__link">
      Login to ChaosIQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/signin/" title="Sign-in Chaos Toolkit to ChaosIQ" class="md-nav__link">
      Sign-in Chaos Toolkit to ChaosIQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/first-objective/" title="Create your first Objective" class="md-nav__link">
      Create your first Objective
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/first-verification/" title="Create your first Verification" class="md-nav__link">
      Create your first Verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../gettingstarted/run-first-verification/" title="Run your first Verification" class="md-nav__link">
      Run your first Verification
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../timeline/" title="Timeline" class="md-nav__link">
      Timeline
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Verifications and Experiments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Verifications and Experiments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../verifications-and-experiments/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../verifications-and-experiments/experiment-format/" title="Experiment Format" class="md-nav__link">
      Experiment Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../verifications-and-experiments/verification-format/" title="Verification Format" class="md-nav__link">
      Verification Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../verifications-and-experiments/execution-profile/" title="Execution Profile" class="md-nav__link">
      Execution Profile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../verifications-and-experiments/run-and-verify/" title="Experiment and Verification Execution" class="md-nav__link">
      Experiment and Verification Execution
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../objectives/" title="Objectives" class="md-nav__link">
      Objectives
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Running a Verification
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Running a Verification
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-the-cli/cli/" title="Running using the CLI" class="md-nav__link">
      Running using the CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Running using Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Running using Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-docker/chaosiq-on-docker-intro/" title="Introduction to Docker" class="md-nav__link">
      Introduction to Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-docker/run-experiment/" title="Run an Experiment with Docker" class="md-nav__link">
      Run an Experiment with Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-docker/run-with-chaosiq/" title="Run an Experiment with Docker and ChaosIQ" class="md-nav__link">
      Run an Experiment with Docker and ChaosIQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-docker/run-verification/" title="Run a Verification with Docker" class="md-nav__link">
      Run a Verification with Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-docker/build-a-custom-docker-image/" title="Build a Custom Docker image to use ChaosIQ" class="md-nav__link">
      Build a Custom Docker image to use ChaosIQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Running using Kubernetes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Running using Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-kubernetes/intro/" title="Introduction to Kubernetes" class="md-nav__link">
      Introduction to Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-kubernetes/settings-as-secret/" title="Configure ChaosIQ settings as secret" class="md-nav__link">
      Configure ChaosIQ settings as secret
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-kubernetes/create-experiment-operator/" title="Create a Chaos Experiment on Kubernetes" class="md-nav__link">
      Create a Chaos Experiment on Kubernetes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4" checked>
    
    <label class="md-nav__link" for="nav-6-4">
      Running using CI/CD
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        Running using CI/CD
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../running-on-ci-cd/" title="Running Continuos Verifications" class="md-nav__link">
      Running Continuos Verifications
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4-2" type="checkbox" id="nav-6-4-2" checked>
    
    <label class="md-nav__link" for="nav-6-4-2">
      Running using Travis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-4-2">
        Running using Travis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../chaosiq-on-travis-intro/" title="Introduction to Travis" class="md-nav__link">
      Introduction to Travis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prerequisites/" title="Prerequisites" class="md-nav__link">
      Prerequisites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../run-experiment/" title="Run a Chaos Experiment" class="md-nav__link">
      Run a Chaos Experiment
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Run an Experiment with ChaosIQ
      </label>
    
    <a href="./" title="Run an Experiment with ChaosIQ" class="md-nav__link md-nav__link--active">
      Run an Experiment with ChaosIQ
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#add-the-chaosiq-extension" class="md-nav__link">
    Add the ChaosIQ extension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-chaosiq-settings" class="md-nav__link">
    Configure the ChaosIQ Settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypt-the-settings-file" class="md-nav__link">
    Encrypt the Settings File
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-travis-cli" class="md-nav__link">
    Install the Travis CLI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-new-build-on-travis" class="md-nav__link">
    Run the new build on Travis
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Teams and Organizations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Teams and Organizations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/organizations-and-teams-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/create-organization/" title="Creating an Organization" class="md-nav__link">
      Creating an Organization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/invite-to-an-organization/" title="Inviting people to your Organization" class="md-nav__link">
      Inviting people to your Organization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/creating-a-team/" title="Creating a Team" class="md-nav__link">
      Creating a Team
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/publishing-to-a-team/" title="Publishing Verifications to a Team" class="md-nav__link">
      Publishing Verifications to a Team
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/switching-teams/" title="Switching Teams" class="md-nav__link">
      Switching Teams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../organizations-and-teams/switching-organizations/" title="Switching Organizations" class="md-nav__link">
      Switching Organizations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../tokens/generate-token/" title="Tokens" class="md-nav__link">
      Tokens
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../deployment-options/deployment-options/" title="Deployment Options" class="md-nav__link">
      Deployment Options
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Frequently Asked Questions (FAQ)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Frequently Asked Questions (FAQ)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../faq/plugin/" title="How do I check I have the latest version of the ChaosIQ plugin" class="md-nav__link">
      How do I check I have the latest version of the ChaosIQ plugin
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#add-the-chaosiq-extension" class="md-nav__link">
    Add the ChaosIQ extension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-chaosiq-settings" class="md-nav__link">
    Configure the ChaosIQ Settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypt-the-settings-file" class="md-nav__link">
    Encrypt the Settings File
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-the-travis-cli" class="md-nav__link">
    Install the Travis CLI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-the-new-build-on-travis" class="md-nav__link">
    Run the new build on Travis
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Run an Experiment with ChaosIQ</h1>
                
                <p>This section explains how to configure and use Travis for running
<a href="https://chaostoolkit.org/">Chaos Toolkit</a> experiments and publishing the results to <a href="https://console.chaosiq.io/login">ChaosIQ</a>.</p>
<p>To be able to fetch assets from ChaosIQ, as well as pushing back results,
for both experiments and verifications, you'll need to setup a settings file
with a valid token and selected targeted organization &amp; team.</p>
<p>Please refer to these documentation links, to <a href="/gettingstarted/signin">signin to ChaosIQ</a> with a token and select your default <a href="/organizations-and-teams/switching-organizations">organization</a> and <a href="/organizations-and-teams/switching-teams">team</a>.</p>
<h2 id="add-the-chaosiq-extension">Add the ChaosIQ extension</h2>
<p>You will need to add the ChaosIQ extension to the Github repository we setup in the previous section. Open the <code>requirements.txt</code> file and add the line:</p>
<div class="codehilite"><pre><span></span><code>chaosiq-cloud
</code></pre></div>


<p>Then run:</p>
<div class="codehilite"><pre><span></span><code>pip install -r requirements.txt
</code></pre></div>


<p>This will install the plugin which will allow you to generate a settings file to use with Travis.</p>
<h2 id="configure-the-chaosiq-settings">Configure the ChaosIQ Settings</h2>
<p>You will need to create a settings file to use with our experiment. In your terminal window run:</p>
<div class="codehilite"><pre><span></span><code>(chaostk) $ chaos --settings ./settings.yaml signin
  ChaosIQ Cloud url [https://console.chaosiq.io]:
  ChaosIQ Cloud token:
  Experiments and executions will be published to team &#39;Staging&#39; in organization &#39;ChaosIQ&#39;
  ChaosIQ Cloud details saved at ./settings.yaml
</code></pre></div>


<p>When the <em>signin</em> command prompts for the token paste in your token for ChaosIQ.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>The <code>settings.yaml</code> contains sensitive information and must not be committed to your Github repository, add it to your <code>.gitignore</code> file now.</strong></p>
</div>
<p>You can if you wish run your experiment locally to confirm that it will publish your execution to ChaosIQ with the settings file you have configured, if you wish to do this run:</p>
<div class="codehilite"><pre><span></span><code>chaos --settings settings.yaml run experiment.json
</code></pre></div>


<p>You can the login to <a href="https://console.chaosiq.io/ChaosIQ/executions/">ChaosIQ Executions</a> page to confirm your execution has been published.</p>
<h2 id="encrypt-the-settings-file">Encrypt the Settings File</h2>
<p>As mentioned above the settings file contains sensitive information and should not be pushed to your Github repository. Travis has a feature to enable you to encrypt a file then use that file as part of you job execution on Travis, this is detailed in the <a href="https://docs.travis-ci.com/user/encrypting-files/">Travis Documentation</a>.</p>
<h3 id="install-the-travis-cli">Install the Travis CLI</h3>
<p>To encrypt a file and to use that encrypted file on your Travis build you will need to install the Travis CLI, see the <a href="https://github.com/travis-ci/travis.rb#installation">Travis CLI installation</a> instructions. Once installed you will need to use the Travis CLI to login  in to your Travis account with the following command:</p>
<div class="codehilite"><pre><span></span><code>travis login --com
</code></pre></div>


<p>You can now encrypt the <code>settings.yaml</code> and the Travis CLI will share the secure encryption variables with you Travis account. Encrypt the settings file with the following command:</p>
<div class="codehilite"><pre><span></span><code>travis encrypt-file settings.yaml --add --com
</code></pre></div>


<p>This will give the following output:</p>
<div class="codehilite"><pre><span></span><code>encrypting settings.yaml for gtfisher/travis-test
storing result as settings.yaml.enc
storing secure env variables for decryption


Overwrite the config file /Users/grant/dev/try/travis-test/.travis.yml with the content below?

This reformats the existing file.

---
language: python
python:
- &#39;3.7&#39;
install:
- pip install -r requirements.txt
script:
- chaos run experiment.json
before_install:
- openssl aes-256-cbc -K $encrypted_fdb844fae20b_key -iv $encrypted_fdb844fae20b_iv
  -in settings.yaml.enc -out settings.yaml -d


(y/N) y

Make sure to add settings.yaml.enc to the git repository.
Make sure not to add settings.yaml to the git repository.
Commit all changes to your .travis.yml.
</code></pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the above output <em>gtfisher</em> is the Travis account name and <em>travis-test</em> is the name of the Github repository.</p>
</div>
<p>This encrypts the <code>settings.yaml</code> file into  <code>settings.yaml.enc</code>, it also setups secure environment variables for decryption and updates the travis config to use those environment variables.</p>
<p>You now need to update the <code>chaos run</code> command in the <code>.travis.yml</code> file so it uses the settings.yaml file that will be decrypted from the   <code>settings.yaml.enc</code> when the build runs. In the <code>.travis.yml</code> change the chaos run command to:</p>
<div class="codehilite"><pre><span></span><code>script:
 - chaos --settings settings.yaml run experiment.json
</code></pre></div>


<h2 id="run-the-new-build-on-travis">Run the new build on Travis</h2>
<p>You now need to commit the following files your Github repository:</p>
<div class="codehilite"><pre><span></span><code>settings.yaml.enc
requirements.txt
.travis.yml
.gitignore
</code></pre></div>


<p>This will cause a new build to be triggered. If you go to the <a href="https://travis-ci.com/signin">Travis console</a> you will see the job executing and eventually the output from the job execution:</p>
<p><img alt="Travis Job with ChaosIQ" src="../images/travis-job-chaosiq.png" /></p>
<p>The output shows at the top the two secure environment variables and shows the output of the experiment running. This includes the information that the experiment will be published to ChaosIQ and lists the URL when the execution is published to. If you navigate to that URL you will see a  detailed view of the execution, if you expand the General section and you can confirm the execution is part of a Travis job:</p>
<p><img alt="Execution Detail" src="../images/execution-details.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to run a <a href="/run-and-verify/run-and-verify/">Verification</a> instead of an experiment all you need to do is add a verification file to the Github repository and change the <code>chaos run</code> command with <code>chaos verify</code>. The Verification will run as part of the Travis build and the results will be published to the Insights view on ChaosIQ.</p>
</div>
<p>In this section we have:</p>
<ul>
<li>Added the ChaosIQ plugin by updating the <code>requirements.txt</code>.</li>
<li>Created a <code>settings.yaml</code> file and encrypted it for use on Travis.</li>
<li>Updated the <code>.travis.yaml</code> file to use the encrypted file and change the chaos command to use the settings file.</li>
<li>Pushed the changes to the Github repository to trigger a build</li>
<li>The build has executed and published the execution on the Executions page on ChaosIQ</li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../run-experiment/" title="Run a Chaos Experiment" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Run a Chaos Experiment
              </span>
            </div>
          </a>
        
        
          <a href="../../organizations-and-teams/organizations-and-teams-intro/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; 2020 ChaosIQ Limited
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>